<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdn.bootcss.com/normalize/8.0.1/normalize.min.css">
    <link rel="stylesheet" href="/css/all.css">
    <link rel="stylesheet" href="/css/blog.css">
<script src="/js/jquery.js"></script>
<script src="/js/Supermainpage.js"></script>
    <style>
    /* #menu-checkbox:checked ~ .nav > a,
    #menu-checkbox:checked ~ .tag-list >a{
        display: block;
    }
    #menu-checkbox{
        display: none;
    } */
    #menu{
        position: absolute;
        top :10px;
        right:10px;
        font-size: 22px;
        font-weight: 100;
        color: rgba(255,255,255,.5)
    }
    </style>
    <title>超级管理员主页</title>
</head>
<body>
<div class="side-bar">
    <!-- <label for="menu-checkbox" id="menu">菜单</label>
    <input type="checkbox" id="menu-checkbox"> -->
    <div class="header">
        <a href="/adminPage" class="logo"><%= id %></a>
        <div class="intro">hello~</div>
    </div>
    <div class="nav">
        <a href="/updateBook" id="update" class="item" >维护书库</a>
        <a href="/importBook" id="import" class="item" >图书进货</a>
        <a href="/payBook" id="pay" class="item" >图书付款/退货</a>
        <a href="/deliverBook" id="deliver" class="item" >图书发货</a>
        <a href="/finance" id="finance" class="item" >收支状况</a>
    </div>
</div>
    <div class="main">
        <div class="wrap wrap-sm">
            <div class="header">
                <h1>编辑资料</h1>
            </div>
            <form id="information" action="">
                <div class="input-wrap">
                <label for="">账号</label>
                <input type="text" id="id" readOnly="true" class="input-control" value="<%= data[0].id %>" data-rule="maxlength:20|minlength:2|required:true">
                <div id="id-input-error" class="input-error" style="display:none">账号格式有误</div>
                <div id="id-input-exist" class="input-error" style="display:none">账号已存在</div>
                </div>
                <div class="input-wrap">
                <label for="">密码</label>
                <input type="password" id="password" class="input-control" value='<%= data[0].password %>'  data-rule="maxlength:20|minlength:6|required:true">
                <div id="password-input-error" class="input-error" style="display: none">密码格式有误</div>
                </div>
                <div class="input-wrap">
                    <label for="">真实姓名</label>
                    <input type="text" id="username" class="input-control" value='<%= data[0].username %>'  data-rule='pattern:"^[a-zA-Z]*$"|maxlength:20|minlength:3|required:true'>
                    <div id="username-input-error" class="input-error" style="display: none">真实姓名格式有误</div>
                </div>
                <div class="input-wrap">
                <label for="">工号</label>
                <input type="text" id="jid" readOnly="true" class="input-control"  value='<%= data[0].jid %>' data-rule="maxlength:20|minlength:6|required:true">
                <div id="jid-input-error" class="input-error" style="display: none">工号格式有误</div>
                </div>
                <div class="input-wrap">
                <label for="">性别</label>
                <input type="text" id="gender" value='<%= data[0].gender %>' class="input-control"  > 
                </div>
                <div class="input-wrap">
                <label for="">年龄</label>
                <input type="text" id="age" class="input-control"  value='<%= data[0].age %>' data-rule="min:18">
                <div id="age-input-error" class="input-error" style="display:none">年龄格式有误</div>
                </div>
                <button class="button-control btn-block" type="button" id="edit" onclick="edit(this)">修改</button>
            </form>
            </div>
    </div>
<!-- </div> -->
</body>
<script>
function edit(ob){
    var id=$(ob).parent().find('div').find('#id').val(),
     pwd=$(ob).parent().find('div').find('#password').val(),
     username=$(ob).parent().find('div').find('#username').val(),
     gender=$(ob).parent().find('div').find('#gender').val(),
     age=$(ob).parent().find('div').find('#age').val(),
     carts={id:id,pwd:pwd,username:username,gender:gender,age:parseInt(age),};
    $.ajax({
      type : "POST",
      url : "/editAdmin",
      data : JSON.stringify(carts),
      contentType: 'application/json',
  });
  }
</script>
</html>